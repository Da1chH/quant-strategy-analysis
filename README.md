# 多策略量化回测框架与实证分析

## 📌 项目概述

本项目通过对A股核心资产（以贵州茅台为例）进行多策略量化回测，系统比较了**均值回归、趋势跟踪、动量策略及动态组合策略**的绩效表现。最终发现**均值回归策略在震荡市中表现优异**，并对其交易逻辑进行了深度拆解。

## 🧠 核心结论

1. **均值回归策略（布林带，参数30/2.5）在茅台上表现最佳**
   - 年化收益率 **21.05%** vs 买入持有 **11.07%**
   - 最大回撤 **-31.80%** vs 买入持有 **-50.43%**
   - 夏普比率 **0.75** vs 买入持有 **0.23**

2. **胜率仅14%，但盈亏比1.27**  
   - 4年交易7次，仅1次盈利（+26.20%），6次亏损（平均-8.8%）
   - **赚一波大的，扛住多次小亏**——这是趋势跟踪类策略的典型特征

3. **趋势策略、动量策略在茅台上失效**
   - 趋势策略年化 8.30%，回撤 -37.22%
   - 动量策略年化 3.21%，回撤 -45.89%
   - 原因：茅台是**震荡向上**，不是单边趋势

4. **动态组合策略（根据市场状态切换策略）表现不佳**
   - 年化仅 3.99%，说明**市场状态判断难度大，简单策略往往更有效**

## 📊 策略绩效对比

| 策略 | 年化收益 | 总收益 | 最大回撤 | 夏普比率 |
|------|----------|--------|----------|----------|
| **均值回归** | 20.51% | 146.89% | -31.80% | 0.74 |
| 买入持有 | 10.80% | 64.35% | -50.43% | 0.23 |
| 趋势策略 | 8.30% | 47.11% | -37.22% | 0.24 |
| 组合策略 | 3.99% | 20.84% | -45.89% | 0.06 |
| 动量策略 | 3.21% | 16.56% | -45.89% | 0.03 |

## 📈 均值回归策略详解

### 策略逻辑
- 计算 **30日均线** 和 **2.5倍标准差** 布林带
- 跌破下轨买入，突破上轨卖出
- 持仓期间不操作，直到遇到相反信号

### 交易记录（2020-2024）

| 买入日期 | 卖出日期 | 持仓天数 | 收益率 |
|----------|----------|----------|--------|
| 2020-02-20 | 2020-03-19 | 28 | -11.87% |
| 2020-07-03 | 2021-05-10 | 311 | **+26.20%** |
| 2021-05-26 | 2021-07-27 | 62 | -19.34% |
| 2021-09-27 | 2022-03-15 | 169 | -6.43% |
| 2022-06-09 | 2022-09-06 | 89 | -0.89% |
| 2023-06-19 | 2023-10-18 | 121 | -2.76% |
| 2024-05-07 | 2024-06-12 | 36 | -11.80% |

**交易统计**：
- 总交易次数：7次
- 盈利次数：1次（14%）
- 平均持仓天数：117天
- 平均收益率：-3.84%
- 最大盈利：+26.20%
- 最大亏损：-19.34%
- 盈亏比：1.27

## 🛠️ 代码结构
├── README.md # 项目说明
├── main.ipynb # 主回测代码（Jupyter Notebook）
├── strategies/
│ ├── mean_reversion.py # 均值回归策略
│ ├── trend.py # 趋势策略
│ ├── momentum.py # 动量策略
│ └── ensemble.py # 组合策略
├── utils/
│ ├── data_fetcher.py # 数据获取（akshare封装）
│ └── metrics.py # 绩效指标计算
└── results/
├── plots/ # 回测图表
└── trades.csv # 交易记录


## 📦 依赖库
pandas
numpy
matplotlib
akshare
backtrader (可选)
seaborn (可选)



## 🚀 下一步计划
增加止损机制（如-15%强制平仓）

结合估值指标（PE分位数）过滤信号

扩展测试到更多股票（五粮液、美的、长江电力等）

实盘模拟验证（聚宽/米筐平台）


